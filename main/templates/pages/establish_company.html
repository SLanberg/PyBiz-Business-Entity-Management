{% extends "base_templates/base.html" %}
{% load static %}

{% block title %}Establish a Limited Liability Company{% endblock %}

{% block head %}
<link rel="stylesheet" type="text/css" href="{% static 'css/establish-company.css' %}">
<script src="{% static 'js/establish-company.js' %}"></script>

{% endblock %}

{% block content %}
&nbsp;
<div class="container">
    <form method="post">
        {% csrf_token %}
        {{ form.non_field_errors }}
        {% for field in form %}
        <tr>
            <td>{{ field.label_tag }}</td>
            <td>{{ field }}
            <p style="margin: 10px;">{{ field.errors }}</p>
            </td>
        </tr>
        <br>
        {% endfor %}

        {{ formset.management_form }}

        <!-- Shareholder forms -->
        <div id="shareholder-forms" data-prefix="{{ formset.prefix }}">
            {% for form in formset.forms %}

            <div class="form-container">
                {{ form.as_table }}
            </div>
                
            <hr>
            {% endfor %}
        </div>

        <button type="button" id="add-shareholder">Add More Shareholders</button>
        <button style="margin:20px 0 20px 0; display: block;" type="submit">Submit</button>
    </form>

    <!-- Empty shareholder form template -->
    <div id="empty-form" style="display: none;">
        {{ formset.empty_form.as_table }}
    </div>
</div>
{% endblock %}
